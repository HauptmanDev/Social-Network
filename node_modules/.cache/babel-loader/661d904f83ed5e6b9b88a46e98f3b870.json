{"ast":null,"code":"var _jsxFileName = \"Q:\\\\IT-kam\\\\socnet\\\\Social-Network\\\\src\\\\App.jsx\";\nimport React from 'react';\nimport './App.css';\nimport NavBar from \"./components/Nav/Nav\";\nimport Footer from \"./components/Footer/Footer\";\nimport Tools from \"./components/Tools/Tools\";\nimport { BrowserRouter, Redirect, Route, Switch, withRouter } from \"react-router-dom\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"redux\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\nimport { Provider } from \"react-redux\";\nimport { withSuspense } from \"./components/hoc/withSuspense\";\nimport { logout } from \"./redux/auth-reducer\";\nimport { setHandler } from \"./api/api\";\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst LoginPage = React.lazy(() => import('./components/Login/Login'));\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.catchAllUnhandledErrors = (reasone, promise) => {// добавить санку на глобальные ошибки\n    };\n  }\n\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return React.createElement(Preloader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        className: \"app-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(HeaderContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(Tools, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"app-wrapper-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => React.createElement(Redirect, {\n          to: '/profile',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/dialogs\",\n        render: withSuspense(DialogsContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/profile/:userId?\",\n        render: withSuspense(ProfileContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/users\",\n        render: withSuspense(UsersContainer),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/login\",\n        render: withSuspense(LoginPage),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"*\",\n        render: () => {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, \"404 NOT FOUND\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }))));\n    }\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  initialized: state.app.initialized\n});\n\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {\n  initializeApp\n}))(App);\n\nconst SocJSApp = props => {\n  return React.createElement(BrowserRouter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(AppContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })));\n};\n\nconst errorAuth = () => {\n  return store.dispatch(logout());\n};\n\nsetHandler(errorAuth);\nexport default SocJSApp;","map":{"version":3,"sources":["Q:\\IT-kam\\socnet\\Social-Network\\src\\App.jsx"],"names":["React","NavBar","Footer","Tools","BrowserRouter","Redirect","Route","Switch","withRouter","HeaderContainer","connect","compose","initializeApp","Preloader","store","Provider","withSuspense","logout","setHandler","ProfileContainer","lazy","DialogsContainer","UsersContainer","LoginPage","App","Component","catchAllUnhandledErrors","reasone","promise","componentDidMount","props","window","addEventListener","componentWillUnmount","removeEventListener","render","initialized","mapStateToProps","state","app","AppContainer","SocJSApp","errorAuth","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport NavBar from \"./components/Nav/Nav\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport Tools from \"./components/Tools/Tools\";\r\nimport {BrowserRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {withSuspense} from \"./components/hoc/withSuspense\";\r\nimport {logout} from \"./redux/auth-reducer\";\r\nimport {setHandler} from \"./api/api\";\r\n\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst LoginPage = React.lazy(() => import('./components/Login/Login'));\r\n\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors = (reasone, promise) => {\r\n        // добавить санку на глобальные ошибки\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    };\r\n\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        } else {\r\n            return (\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <NavBar/>\r\n                    <Tools/>\r\n                    <Footer/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Switch>\r\n                            <Route exact path='/' render={() => <Redirect to={'/profile'}/>}/>\r\n                            <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                            <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                            <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n                            <Route path='/login' render={withSuspense(LoginPage)}/>\r\n                            <Route exact path='*' render={() => {\r\n                                return <div>404 NOT FOUND</div>\r\n                            }}/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({initialized: state.app.initialized});\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\r\nconst SocJSApp = (props) => {\r\n\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            < AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n};\r\n\r\nconst errorAuth = () => {\r\n    return store.dispatch(logout())\r\n};\r\n\r\nsetHandler(errorAuth);\r\n\r\nexport default SocJSApp;\r\n"]},"metadata":{},"sourceType":"module"}