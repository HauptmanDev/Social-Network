{"version":3,"sources":["api/api.js","components/Nav/Nav.module.css","serviceWorker.js","components/Nav/Nav.jsx","components/Footer/Footer.jsx","components/Tools/Tools.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","components/hoc/withSuspense.jsx","App.jsx","index.js","redux/auth-reducer.js","components/common/Preloader/Preloader.jsx","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/objects-helpers.js","redux/users-reducer.js","components/Footer/Footer.module.css","components/Tools/Tools.module.css","assets/images/preloader.svg"],"names":["__webpack_require__","d","__webpack_exports__","usersAPI","profileAPI","authAPI","axios__WEBPACK_IMPORTED_MODULE_0__","instance","axios","withCredentials","baseURL","headers","API-KEY","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","getStatus","updateStatus","status","put","me","login","email","password","rememberMe","logout","module","exports","nav","item","activeLink","Boolean","window","location","hostname","match","NavBar","react_default","a","createElement","className","s","react_router_dom","to","activeClassName","Footer","footer","src","Tools","tools","Header","props","header","loginBlock","isAuth","onClick","HeaderContainer","components_Header_Header","this","React","Component","connect","state","auth","initialState","initialized","appReducer","type","_objectSpread","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","authReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","_store_","withSuspense","Suspense","fallback","Preloader","ProfileContainer","lazy","Promise","all","e","bind","DialogsContainer","UsersContainer","LoginPage","App","initializeApp","Header_HeaderContainer","Nav","components_Tools_Tools","components_Footer_Footer","react_router","path","render","AppContainer","withRouter","dispatch","promise","getAuthUserData","SocJSApp","basename","process","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","userID","setAuthUserData","payload","_ref","Object","Q_IT_kam_socnet_Social_Network_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","Q_IT_kam_socnet_Social_Network_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","_response$data$data","id","_login","wrap","_context","prev","next","sent","resultCode","stop","_x","apply","_ref2","_callee2","massage","_context2","messages","stopSubmit","_error","_x2","_ref3","_callee3","_context3","_x3","action","react__WEBPACK_IMPORTED_MODULE_1___default","preloader","posts","message","likesCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","Q_IT_kam_socnet_Social_Network_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","filter","p","dialogs","name","sendMessageCreator","newMessageBody","body","Q_IT_kam_socnet_Social_Network_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","updateObjectsInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUserCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","asyncToGenerator","regenerator_default","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","_x4","_x5","_x6","_ref4","_callee4","_context4","_x7","users_reducer_objectSpread","followed","toConsumableArray","userid"],"mappings":"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","file":"static/js/main.213629f7.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"9ae69435-2b9a-40bc-b874-7a6c240dae36\"\r\n        // \"API-KEY\": \"f6e2860d-1291-43ec-8245-d627ef75db33\" ок, вроде должно работать\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage = 1, pageSize = 5) => {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n};\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__2gOsI\",\"item\":\"Nav_item__2zvPs\",\"activeLink\":\"Nav_activeLink__HMj9-\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './Nav.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst NavBar = () => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to='/profile' activeClassName={s.activeLink}>Profile </ NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/dialogs' activeClassName={s.activeLink}> Messages </ NavLink>\r\n        </div>\r\n        {/*<div className={s.item}>*/}\r\n        {/*    <NavLink to='/news' activeClassName={s.activeLink}> News </ NavLink>*/}\r\n        {/*</div>*/}\r\n        {/*<div className={s.item}>*/}\r\n        {/*    <NavLink to='/music' activeClassName={s.activeLink}> Music </ NavLink>*/}\r\n        {/*</div>*/}\r\n        <div className={s.item}>\r\n            <NavLink to='/users' activeClassName={s.activeLink}> Users </ NavLink>\r\n        </div>\r\n        {/*<br/>*/}\r\n        {/*<div className={s.item}>*/}\r\n        {/*    <NavLink to='/settings' activeClassName={s.activeLink}> Settings </ NavLink>*/}\r\n        {/*</div>*/}\r\n        {/*<br/>*/}\r\n        <br/>\r\n        <div className={s.item}>\r\n            {/*<NavLink to='/friends' activeClassName={s.activeLink}><h4>Friends</h4></ NavLink>*/}\r\n            <br/>\r\n        </div>\r\n    </nav>\r\n};\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport s from './Footer.module.css'\r\n\r\nconst Footer = () => {\r\n    return <footer className={s.footer}>\r\n        < img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6lkBooeDsvoU379MxTGzpch8TEMndQiO9sjdxSqsbFqKgmkibag'/>\r\n    </footer>\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\nimport s from './Tools.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Tools = () => {\r\n    return (\r\n        <div className={s.tools}>\r\n            Tools\r\n        </div>\r\n    )\r\n};\r\nexport default Tools;\r\n","import React from 'react';\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img\r\n            src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6lkBooeDsvoU379MxTGzpch8TEMndQiO9sjdxSqsbFqKgmkibag'/>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\"\r\nimport {getAuthUserData, logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n};\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZE_SUCCESS = 'INITIALIZE_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZE_SUCCESS,\r\n    }\r\n};\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\n\r\nexport default appReducer;","let initialState = {};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow._store_ = store;\r\n\r\nexport default store","import React from 'react';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport NavBar from \"./components/Nav/Nav\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport Tools from \"./components/Tools/Tools\";\r\nimport {HashRouter, Route, withRouter} from \"react-router-dom\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {withSuspense} from \"./components/hoc/withSuspense\";\r\n// import Settings from \"./components/Settings/Settings\";\r\n// import News from \"./components/News/News\";\r\n// import Music from \"./components/Music/Music\";\r\n// import Friends from \"./components/Friends/Friends\";\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst LoginPage = React.lazy(() => import('./components/Login/Login'));\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    };\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        } else {\r\n            return (\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <NavBar/>\r\n                    <Tools/>\r\n                    <Footer/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                        <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                        <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n                        <Route path='/login' render={withSuspense(LoginPage)}/>\r\n                        {/*<Route path='/news' render={() => <News/>}/>*/}\r\n                        {/*<Route path='/settings' render={() => <Settings/>}/>*/}\r\n                        {/*<Route path='/music' render={() => <Music/>}/>*/}\r\n                        {/*<Route path='/friends' render={() => <Friends/>}/>*/}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized\r\n});\r\nlet AppContainer = compose(\r\n    withRouter, connect(mapStateToProps, {initializeApp}))(App);\r\nconst SocJSApp = (props) => {\r\n    return <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store} >\r\n            < AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n};\r\n\r\nexport default SocJSApp;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport SocJSApp from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <SocJSApp/>\r\n, document.getElementById('root'));\r\n\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from 'redux-form'\r\n\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\n\r\nlet initialState = {\r\n    userID: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        payload: {\r\n            userId,\r\n            email,\r\n            login,\r\n            isAuth\r\n        }\r\n    }\r\n};\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let massage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: massage}));\r\n    }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","import preloader from '../../../assets/images/preloader.svg'\r\nimport React from 'react';\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader}/>\r\n    </div>\r\n};\r\n\r\nexport default Preloader;\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1lL9N\",\"loginBlock\":\"Header_loginBlock__1jgYl\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Привет, всем!', likesCount: 0},\r\n        {id: 2, message: 'Пока, всем!', likesCount: 1},\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {...state, posts: [...state.posts, newPost],};\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile};\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status};\r\n        }\r\n        case DELETE_POST: {\r\n\r\n            return {\r\n                ...state, posts: state.posts.filter(p => {\r\n                    // p.id != action.postId\r\n                })\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n};\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST, newPostText\r\n    }\r\n};\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE, profile\r\n    }\r\n};\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS, status\r\n    }\r\n};\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST, postId\r\n    }\r\n};\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Kirill'},\r\n        {id: 2, name: 'Igor'},\r\n        {id: 3, name: 'Victor'},\r\n        {id: 4, name: 'Python'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Give me my money'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'May be Borba'},\r\n        {id: 4, message: 'Guuusss???'}\r\n    ],\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody;\r\n            return {...state, messages: [...state.messages, {id: 5, message: body}],};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const sendMessageCreator = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE, newMessageBody: newMessageBody\r\n    }\r\n};\r\nexport default dialogsReducer;\r\n","export const updateObjectsInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectsInArray} from \"../utils/objects-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 15,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectsInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectsInArray(state.users, action.userId, 'id', {followed: true})\r\n                //     state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {...u, followed: false}\r\n                //     }\r\n                //     return u;\r\n                // })\r\n            };\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUserCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id != action.userid)]\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n};\r\nexport const unfollowSuccess = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n};\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    }\r\n};\r\nexport const setTotalUsersCount = (totalUserCount) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        count: totalUserCount\r\n    }\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n};\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n};\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n\r\n};\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(followSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(userId);\r\n        let actionCreator = followSuccess;\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n};\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(userId);\r\n        let actionCreator = unfollowSuccess;\r\n        followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n};\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__1GiH6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tools\":\"Tools_tools__1_BWd\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.e7f5b6f4.svg\";"],"sourceRoot":""}