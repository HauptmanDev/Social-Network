{"version":3,"sources":["components/Nav/Nav.module.css","redux/auth-reducer.js","serviceWorker.js","components/Nav/Nav.jsx","components/Footer/Footer.jsx","components/Tools/Tools.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","components/hoc/withSuspense.jsx","App.jsx","index.jsx","components/common/Preloader/Preloader.jsx","components/Header/Header.module.css","redux/profile-reducer.js","redux/dialogs-reducer.js","api/api.js","utils/objects-helpers.js","redux/users-reducer.js","components/Footer/Footer.module.css","components/Tools/Tools.module.css","assets/images/preloader.svg"],"names":["module","exports","nav","item","activeLink","initialState","userId","email","login","isAuth","captchaUrl","setAuthUserData","type","payload","getCaptchaUrlSuccess","getAuthUserData","_ref","Object","Q_IT_kam_my_projects_Social_Network_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","Q_IT_kam_my_projects_Social_Network_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","dispatch","response","_response$data$data","id","_login","wrap","_context","prev","next","authAPI","me","sent","data","resultCode","stop","_x","apply","this","arguments","password","rememberMe","captcha","_ref2","_callee2","message","_context2","getCaptchaUrl","messages","length","stopSubmit","_error","_x2","_ref3","_callee3","_context3","securityAPI","url","_x3","logout","_ref4","_callee4","_context4","_x4","authReducer","state","undefined","action","Q_IT_kam_my_projects_Social_Network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_2__","Boolean","window","location","hostname","match","NavBar","react_default","createElement","className","s","react_router_dom","to","activeClassName","Footer","footer","src","Tools","tools","Header","props","header","loginBlock","onClick","HeaderContainer","components_Header_Header","React","Component","connect","auth","initialized","appReducer","objectSpread","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","usersReducer","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","_store_","withSuspense","Suspense","fallback","Preloader","ProfileContainer","lazy","Promise","all","__webpack_require__","e","then","bind","DialogsContainer","UsersContainer","LoginPage","App","catchAllUnhandledErrors","reasone","promise","initializeApp","addEventListener","removeEventListener","Header_HeaderContainer","Nav","components_Tools_Tools","components_Footer_Footer","react_router","exact","path","render","AppContainer","withRouter","setHandler","SocJSApp","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_1___default","style","position","top","left","width","height","backgroundColor","opacity","display","alignItems","justifyContent","preloader","posts","likesCount","profile","status","addPostActionCreator","newPostText","setStatus","getUserProfile","usersAPI","getProfile","getStatus","profileAPI","updateStatus","savePhoto","file","photos","saveProfile","_ref5","_callee5","getState","_context5","abrupt","reject","_x5","_x6","newPost","Q_IT_kam_my_projects_Social_Network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","concat","Q_IT_kam_my_projects_Social_Network_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","filter","p","postId","dialogs","sendMessageCreator","newMessageBody","body","Q_IT_kam_my_projects_Social_Network_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","Q_IT_kam_my_projects_Social_Network_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","errorAuth","instance","axios","withCredentials","baseURL","headers","API-KEY","dialogsAPI","getDialogs","_getDialogs","get","initialDialog","_initialDialog","put","_sendMessage","_sendMessage2","_args3","post","getUsers","currentPage","pageSize","follow","unfollow","delete","console","warn","photoFile","formData","FormData","append","Content-Type","interceptors","use","error","callback","updateObjectsInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUserCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","asyncToGenerator","regenerator_default","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","_x7","followed","toConsumableArray"],"mappings":"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","file":"static/js/main.6d0f3337.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__KLgGL\",\"item\":\"Nav_item__1KH2s\",\"activeLink\":\"Nav_activeLink__20oMC\"};","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA';\r\nconst GET_CAPTCHA_URL = 'auth/GET-CAPTCHA-URL';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null, //if null, then captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        case GET_CAPTCHA_URL:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n    return {\r\n        type: SET_USER_DATA,\r\n        payload: {\r\n            userId,\r\n            email,\r\n            login,\r\n            isAuth\r\n        }\r\n    }\r\n};\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => {\r\n    return {\r\n        type: GET_CAPTCHA_URL,\r\n        payload: {captchaUrl}\r\n    }\r\n};\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n};\r\nexport const login = (email, password, rememberMe,captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe,captcha);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n};\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    let captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n};\r\n\r\nexport default authReducer;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport s from './Nav.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport PropTypes from 'prop-types';\r\n\r\nconst NavBar = () => {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to='/profile' activeClassName={s.activeLink}>Profile </ NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/dialogs' activeClassName={s.activeLink}> Messages </ NavLink>\r\n        </div>\r\n        {/*<div className={s.item}>*/}\r\n        {/*    <NavLink to='/news' activeClassName={s.activeLink}> News </ NavLink>*/}\r\n        {/*</div>*/}\r\n        {/*<div className={s.item}>*/}\r\n        {/*    <NavLink to='/music' activeClassName={s.activeLink}> Music </ NavLink>*/}\r\n        {/*</div>*/}\r\n        <div className={s.item}>\r\n            <NavLink to='/users' activeClassName={s.activeLink}> Users </ NavLink>\r\n        </div>\r\n        {/*<br/>*/}\r\n        {/*<div className={s.item}>*/}\r\n        {/*    <NavLink to='/settings' activeClassName={s.activeLink}> Settings </ NavLink>*/}\r\n        {/*</div>*/}\r\n        {/*<br/>*/}\r\n        <br/>\r\n        <div className={s.item}>\r\n            {/*<NavLink to='/friends' activeClassName={s.activeLink}><h4>Friends</h4></ NavLink>*/}\r\n            <br/>\r\n        </div>\r\n    </nav>\r\n};\r\nexport default NavBar;\r\n","import React from 'react';\r\nimport s from './Footer.module.css'\r\n\r\nconst Footer = () => {\r\n    return <footer className={s.footer}>\r\n        < img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6lkBooeDsvoU379MxTGzpch8TEMndQiO9sjdxSqsbFqKgmkibag'/>\r\n    </footer>\r\n};\r\n\r\nexport default Footer;","import React from 'react';\r\nimport s from './Tools.module.css'\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Tools = () => {\r\n    return (\r\n        <div className={s.tools}>\r\n            Tools\r\n        </div>\r\n    )\r\n};\r\nexport default Tools;\r\n","import React from 'react';\r\nimport s from './Header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img\r\n            src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6lkBooeDsvoU379MxTGzpch8TEMndQiO9sjdxSqsbFqKgmkibag'/>\r\n        <div className={s.loginBlock}>\r\n            {props.isAuth ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                : <NavLink to={'/login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\"\r\nimport {getAuthUserData, logout} from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n};\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZE_SUCCESS = 'INITIALIZE_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZE_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: INITIALIZE_SUCCESS,\r\n    }\r\n};\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n};\r\n\r\n\r\nexport default appReducer;","let initialState = {};\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n});\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow._store_ = store;\r\n\r\nexport default store","import React from 'react';\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport NavBar from \"./components/Nav/Nav\";\r\nimport Footer from \"./components/Footer/Footer\";\r\nimport Tools from \"./components/Tools/Tools\";\r\nimport {BrowserRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {Provider} from \"react-redux\";\r\nimport {withSuspense} from \"./components/hoc/withSuspense\";\r\nimport {logout} from \"./redux/auth-reducer\";\r\nimport {setHandler} from \"./api/api\";\r\n\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst LoginPage = React.lazy(() => import('./components/Login/Login'));\r\n\r\n\r\nclass App extends React.Component {\r\n    catchAllUnhandledErrors = (reasone, promise) => {\r\n        // добавить санку на глобальные ошибки\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors)\r\n    };\r\n\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        } else {\r\n            return (\r\n                <div className='app-wrapper'>\r\n                    <HeaderContainer/>\r\n                    <NavBar/>\r\n                    <Tools/>\r\n                    <Footer/>\r\n                    <div className='app-wrapper-content'>\r\n                        <Switch>\r\n                            <Route exact path='/' render={() => <Redirect to={'/profile'}/>}/>\r\n                            <Route path='/dialogs' render={withSuspense(DialogsContainer)}/>\r\n                            <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\r\n                            <Route path='/users' render={withSuspense(UsersContainer)}/>\r\n                            <Route path='/login' render={withSuspense(LoginPage)}/>\r\n                            <Route exact path='*' render={() => {\r\n                                return <div>404 NOT FOUND</div>\r\n                            }}/>\r\n                        </Switch>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({initialized: state.app.initialized});\r\nlet AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp}))(App);\r\nconst SocJSApp = (props) => {\r\n\r\n    return <BrowserRouter>\r\n        <Provider store={store}>\r\n            < AppContainer/>\r\n        </Provider>\r\n    </BrowserRouter>\r\n};\r\n\r\nconst errorAuth = () => {\r\n    store.dispatch(logout())\r\n};\r\n\r\nsetHandler(errorAuth);\r\n\r\nexport default SocJSApp;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport SocJSApp from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <SocJSApp/>\r\n    , document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();","import preloader from '../../../assets/images/preloader.svg'\r\nimport React from 'react';\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <div style={{\r\n            position: \"fixed\",\r\n            top: '0px',\r\n            left: '0px',\r\n            width: '100vw',\r\n            height: '100vh',\r\n            backgroundColor: \"black\",\r\n            opacity: \"0.1\"\r\n        }}></div>\r\n        <div style={{\r\n            position: \"fixed\",\r\n            display: 'flex',\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            width: '300px',\r\n            height: '200px',\r\n            // top: `${top}px`\r\n        }}>\r\n            <img src={preloader}/>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nexport default Preloader;\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__30YGt\",\"loginBlock\":\"Header_loginBlock__1D-Zx\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst CHANGE_AVATAR = 'CHANGE-AVATAR';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Привет, всем!', likesCount: 0},\r\n        {id: 2, message: 'Пока, всем!', likesCount: 1},\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 3,\r\n                message: action.newPostText,\r\n                likesCount: 0\r\n            };\r\n            return {...state, posts: [...state.posts, newPost],};\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile};\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status};\r\n        }\r\n        case DELETE_POST: {\r\n            return {\r\n                ...state, posts: state.posts.filter(p => {\r\n                    return p.id != action.postId\r\n                })\r\n            };\r\n        }\r\n        case CHANGE_AVATAR: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {\r\n        type: ADD_POST, newPostText\r\n    }\r\n};\r\nexport const setUserProfile = (profile) => {\r\n    return {\r\n        type: SET_USER_PROFILE, profile\r\n    }\r\n};\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS, status\r\n    }\r\n};\r\nexport const deletePost = (postId) => {\r\n    return {\r\n        type: DELETE_POST, postId\r\n    }\r\n};\r\nexport const changeAvatar = (photos) => {\r\n    return {\r\n        type: CHANGE_AVATAR, photos\r\n    }\r\n};\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(changeAvatar(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    let userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('edit-profile', {_error: message}));\r\n        return Promise.reject(message)\r\n    }\r\n};\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody;\r\n            return {...state, messages: [...state.messages, {id: 5, message: body}],};\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const sendMessageCreator = (newMessageBody) => {\r\n    return {\r\n        type: SEND_MESSAGE, newMessageBody: newMessageBody\r\n    }\r\n};\r\nexport default dialogsReducer;\r\n","import * as axios from \"axios\";\r\n\r\n// Перевести все апишки на вариативные исходы\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"9ae69435-2b9a-40bc-b874-7a6c240dae36\"\r\n    }\r\n});\r\n\r\nexport const dialogsAPI = {\r\n    async getDialogs() {\r\n        const response = await instance.get(`dialogs/`);\r\n        return response\r\n        // [\r\n        // {\r\n        //     \"id\": 1570,\r\n        //     \"userName\": \"Gaypt1994\",\r\n        //     \"hasNewMessages\": false,\r\n        //     \"lastDialogActivityDate\": \"2019-12-08T08:58:57.967\",\r\n        //     \"lastUserActivityDate\": \"2019-12-07T19:12:19.397\",\r\n        //     \"newMessagesCount\": 0,\r\n        //     \"photos\": {\r\n        //     \"small\": \"https://social-network.samuraijs.com/activecontent/images/users/1570/user-small.jpg?v=1\",\r\n        //         \"large\": \"https://social-network.samuraijs.com/activecontent/images/users/1570/user.jpg?v=1\"\r\n        // }\r\n        // }\r\n        // ]\r\n    },\r\n    async initialDialog(userId) {\r\n        const response = await instance.put(`dialogs/${userId}`);\r\n        return response\r\n        //{\r\n        //     \"data\": {},\r\n        //     \"messages\": [],\r\n        //     \"resultCode\": 0\r\n        // }\r\n    },\r\n    async _sendMessage(userId = 1567) {\r\n        const response = await instance.post(`dialogs/${userId}/messages`,\r\n        {\r\n            body: 'Hello, Igor'\r\n        });\r\n        return response\r\n    },\r\n};\r\n\r\nexport const usersAPI = {\r\n    getUsers: (currentPage = 1, pageSize = 5) => {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.');\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n    }\r\n};\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n};\r\n\r\nlet errorAuth;\r\n\r\ninstance.interceptors.response.use(\r\n    response => response,\r\n    error => {\r\n        if (error.response.status === 401) {\r\n            errorAuth()\r\n        }\r\n        return Promise.reject(error)\r\n    }\r\n);\r\n\r\nexport const setHandler = (callback) => {\r\n    errorAuth = callback;\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`)\r\n    },\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export const updateObjectsInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectsInArray} from \"../utils/objects-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 3,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectsInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectsInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUserCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId\r\n    }\r\n};\r\nexport const unfollowSuccess = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId\r\n    }\r\n};\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users\r\n    }\r\n};\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    }\r\n};\r\nexport const setTotalUsersCount = (totalUserCount) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        count: totalUserCount\r\n    }\r\n};\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n};\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFetching,\r\n        userId\r\n    }\r\n};\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n};\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n};\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(userId);\r\n        let actionCreator = followSuccess;\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n};\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(userId);\r\n        let actionCreator = unfollowSuccess;\r\n        await followUnfollowFlow(dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n};\r\n\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2C8Yg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tools\":\"Tools_tools__3ehDE\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.e7f5b6f4.svg\";"],"sourceRoot":""}